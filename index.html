<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥å’Œæ•å½± - æ„è¦‹èª¿æŸ¥ç·´ç¿’</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
    </style>
</head>
<body class="min-h-screen bg-cover bg-center bg-fixed" 
      style="background-image: linear-gradient(rgba(253, 251, 247, 0.85), rgba(253, 251, 247, 0.85)), 
             url('https://images.unsplash.com/photo-1518531933037-91b2f5f229cc?auto=format&fit=crop&q=80&w=1000');">
    <div class="max-w-md mx-auto mt-20 p-8 bg-white shadow-lg rounded-2xl border border-[#E5DED3]">
        <h1 class="text-2xl font-bold text-[#5C6347] mb-4">æ—¥å’Œæ•å½±å•å·ç·´ç¿’</h1>
        <p class="text-sm text-gray-500 mb-8">é€™æ˜¯ä¸€å€‹èˆ‡ Google è¡¨å–®ä¸²æ¥çš„ç·´ç¿’ç¶²é </p>

        <div id="survey-ui">
            <h2 id="q-text" class="text-lg font-medium mb-6">å•é¡ŒåŠ è¼‰ä¸­...</h2>
            <div id="options" class="space-y-3">
                </div>
        </div>

        <div id="thanks" class="hidden text-center">
    <div class="text-5xl mb-4">ğŸŒ¿</div>
    <h2 class="text-xl font-bold text-[#5C6347]">æäº¤æˆåŠŸï¼</h2>
    <p class="mt-2 text-gray-600">æ„Ÿè¬ä½ çš„å¡«å¯«ï¼Œè³‡æ–™å·²å‚³é€åˆ° Google è¡¨å–®ã€‚</p>
    
    <a href="https://www.instagram.com/hiyori_capture/" target="_blank" 
       class="inline-block mt-8 px-6 py-3 bg-[#5C6347] text-white rounded-full font-medium shadow-md hover:bg-[#4A5039] transition">
       è¿½è¹¤ã€Œæ—¥å’Œæ•å½±ã€IG
    </a>

    <br>
    <button onclick="location.reload()" class="mt-6 text-sm text-gray-400 underline">é‡æ–°å¡«å¯«</button>
</div>
    </div>

    <script>
        // 1. Google è¡¨å–® ID
        const FORM_ID = "1iVQPrGSIDm52Fo4ayvB2JjIPGwTs_Dm3Vv9-nA50raQ";

        // 2. é¡Œç›®èˆ‡ç·¨è™Ÿè¨­å®š
        const questions = [
            { 
                title: "ä½ æœ€å–œæ­¡å“ªç¨®ä¸»é¡Œï¼Ÿ", 
                options: ["éœ²ç‡Ÿç”Ÿæ´»", "å®¤å…§æ¤ç‰©", "å‹•ç‰©æ”å½±"], 
                type: "select",
                eid: "entry.1636338263" 
            },
            { 
                title: "ä½ ç›®å‰æœ‰åœ¨ç¨®æ¤ç‰©å—ï¼Ÿ", 
                options: ["æˆ‘æ˜¯ç¶ æ‰‹æŒ‡", "æˆ‘æ˜¯æ¤ç‰©æ®ºæ‰‹", "æº–å‚™é–‹å§‹"], 
                type: "select",
                eid: "entry.264994059" 
            },
            { 
                title: "è«‹å•æ‚¨çš„å§“åï¼Ÿ", 
                type: "text", 
                eid: "entry.16033771" 
            },
            { 
                title: "è«‹å•æ‚¨çš„é›»è©±ï¼Ÿ", 
                type: "text", 
                eid: "entry.1455934217" 
            }
        ];

        let index = 0;
        let results = {};

        function render() {
            const q = questions[index];
            document.getElementById('q-text').innerText = q.title;
            const optDiv = document.getElementById('options');
            optDiv.innerHTML = '';

            if (q.type === "select") {
                q.options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = "w-full text-left p-4 border border-[#E5DED3] rounded-xl hover:bg-[#F3F4ED] hover:border-[#5C6347] transition mb-1";
                    btn.innerText = opt;
                    btn.onclick = () => {
                        results[q.eid] = opt;
                        next();
                    };
                    optDiv.appendChild(btn);
                });
            } else {
                const input = document.createElement('input');
                input.type = "text";
                input.className = "w-full p-4 border border-[#E5DED3] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#5C6347] mb-4 text-lg";
                input.placeholder = "è«‹åœ¨æ­¤è¼¸å…¥...";
                
                const nextBtn = document.createElement('button');
                nextBtn.className = "w-full bg-[#5C6347] text-white p-4 rounded-xl font-bold hover:bg-[#4A5039] transition";
                nextBtn.innerText = index === questions.length - 1 ? "å®Œæˆæäº¤" : "ä¸‹ä¸€é¡Œ";
                
                nextBtn.onclick = () => {
                    if (input.value.trim() === "") {
                        alert("è«‹å¡«å¯«å…§å®¹å–”ï¼");
                        return;
                    }
                    results[q.eid] = input.value;
                    next();
                };
                
                optDiv.appendChild(input);
                optDiv.appendChild(nextBtn);
            }
        }

        function next() {
            if (index < questions.length - 1) {
                index++;
                render();
            } else {
                submit();
            }
        }

        function submit() {
            const formData = new FormData();
            for (let key in results) { 
                formData.append(key, results[key]); 
            }

            // ä¿®æ”¹å¾Œçš„é€£ç·šç¶²å€
            const formUrl = `https://docs.google.com/forms/d/${FORM_ID}/formResponse`;

            fetch(formUrl, {
                method: 'POST',
                body: formData,
                mode: 'no-cors'
            }).then(() => {
                document.getElementById('survey-ui').classList.add('hidden');
                document.getElementById('thanks').classList.remove('hidden');
            }).catch(err => {
                // å³ä½¿å ±éŒ¯ä¹Ÿæœƒé¡¯ç¤ºæˆåŠŸç•«é¢ï¼Œå› ç‚ºé€™æ˜¯å‰ç«¯å”¯ä¸€çš„è™•ç†æ–¹å¼
                document.getElementById('survey-ui').classList.add('hidden');
                document.getElementById('thanks').classList.remove('hidden');
            });
        }

        render();
    </script>
</body>
</html>